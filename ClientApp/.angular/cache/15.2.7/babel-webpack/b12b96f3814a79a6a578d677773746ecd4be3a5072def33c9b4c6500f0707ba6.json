{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/forms\";\nfunction EstudiantesComponent_ng_container_12_td_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const estudiante_r1 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(estudiante_r1.nombre);\n  }\n}\nfunction EstudiantesComponent_ng_container_12_td_5_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r9 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"td\")(1, \"input\", 9);\n    i0.ɵɵlistener(\"ngModelChange\", function EstudiantesComponent_ng_container_12_td_5_Template_input_ngModelChange_1_listener($event) {\n      i0.ɵɵrestoreView(_r9);\n      const ctx_r8 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r8.estudianteEnEdicion.nombre = $event);\n    });\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngModel\", ctx_r3.estudianteEnEdicion.nombre);\n  }\n}\nfunction EstudiantesComponent_ng_container_12_ng_container_7_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r11 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"button\", 10);\n    i0.ɵɵlistener(\"click\", function EstudiantesComponent_ng_container_12_ng_container_7_Template_button_click_1_listener() {\n      i0.ɵɵrestoreView(_r11);\n      const ctx_r10 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r10.guardarCambios());\n    });\n    i0.ɵɵtext(2, \"Guardar\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"button\", 11);\n    i0.ɵɵlistener(\"click\", function EstudiantesComponent_ng_container_12_ng_container_7_Template_button_click_3_listener() {\n      i0.ɵɵrestoreView(_r11);\n      const ctx_r12 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r12.cancelarEdicion());\n    });\n    i0.ɵɵtext(4, \"Cancelar\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n}\nfunction EstudiantesComponent_ng_container_12_ng_template_8_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r15 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 5);\n    i0.ɵɵlistener(\"click\", function EstudiantesComponent_ng_container_12_ng_template_8_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r15);\n      const estudiante_r1 = i0.ɵɵnextContext().$implicit;\n      const ctx_r13 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r13.editarEstudiante(estudiante_r1));\n    });\n    i0.ɵɵtext(1, \"Editar\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(2, \"button\", 12);\n    i0.ɵɵlistener(\"click\", function EstudiantesComponent_ng_container_12_ng_template_8_Template_button_click_2_listener() {\n      i0.ɵɵrestoreView(_r15);\n      const estudiante_r1 = i0.ɵɵnextContext().$implicit;\n      const ctx_r16 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r16.eliminarEstudiante(estudiante_r1));\n    });\n    i0.ɵɵtext(3, \"Eliminar\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction EstudiantesComponent_ng_container_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"tr\")(2, \"td\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(4, EstudiantesComponent_ng_container_12_td_4_Template, 2, 1, \"td\", 6);\n    i0.ɵɵtemplate(5, EstudiantesComponent_ng_container_12_td_5_Template, 2, 1, \"td\", 6);\n    i0.ɵɵelementStart(6, \"td\");\n    i0.ɵɵtemplate(7, EstudiantesComponent_ng_container_12_ng_container_7_Template, 5, 0, \"ng-container\", 7);\n    i0.ɵɵtemplate(8, EstudiantesComponent_ng_container_12_ng_template_8_Template, 4, 0, \"ng-template\", null, 8, i0.ɵɵtemplateRefExtractor);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const estudiante_r1 = ctx.$implicit;\n    const _r5 = i0.ɵɵreference(9);\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(estudiante_r1.estudianteId);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.estudianteEnEdicion !== estudiante_r1);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.estudianteEnEdicion === estudiante_r1);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.estudianteEnEdicion === estudiante_r1)(\"ngIfElse\", _r5);\n  }\n}\nexport class EstudiantesComponent {\n  constructor(http, baseUrl) {\n    this.http = http;\n    this.estudiantes = [];\n    this.nuevoEstudiante = {\n      estudianteId: 0,\n      nombre: ''\n    };\n    this.estudianteEnEdicion = null;\n    this.cargarEstudiantes();\n  }\n  cargarEstudiantes() {\n    this.http.get('/api/Estudiantes').subscribe(data => {\n      this.estudiantes = data;\n    }, error => console.error(error));\n  }\n  agregarEstudiante() {\n    this.http.post('/api/Estudiantes', this.nuevoEstudiante).subscribe(() => {\n      this.nuevoEstudiante = {\n        estudianteId: 0,\n        nombre: ''\n      };\n      this.cargarEstudiantes();\n    }, error => console.error(error));\n  }\n  editarEstudiante(estudiante) {\n    this.estudianteEnEdicion = {\n      ...estudiante\n    };\n  }\n  guardarCambios() {\n    if (this.estudianteEnEdicion) {\n      this.http.put(`/api/Estudiantes/${this.estudianteEnEdicion.estudianteId}`, this.estudianteEnEdicion).subscribe(() => {\n        this.estudianteEnEdicion = null;\n        this.cargarEstudiantes();\n      }, error => console.error(error));\n    }\n  }\n  cancelarEdicion() {\n    this.estudianteEnEdicion = null;\n  }\n  eliminarEstudiante(estudiante) {\n    this.http.delete(`/api/Estudiantes/${estudiante.estudianteId}`).subscribe(() => {\n      this.cargarEstudiantes();\n    }, error => console.error(error));\n  }\n}\nEstudiantesComponent.ɵfac = function EstudiantesComponent_Factory(t) {\n  return new (t || EstudiantesComponent)(i0.ɵɵdirectiveInject(i1.HttpClient), i0.ɵɵdirectiveInject('BASE_URL'));\n};\nEstudiantesComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: EstudiantesComponent,\n  selectors: [[\"app-estudiantes\"]],\n  decls: 19,\n  vars: 2,\n  consts: [[1, \"table\"], [4, \"ngFor\", \"ngForOf\"], [1, \"form-group\"], [\"for\", \"nombre\"], [\"type\", \"text\", \"id\", \"nombre\", \"name\", \"nombre\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [1, \"btn\", \"btn-primary\", 3, \"click\"], [4, \"ngIf\"], [4, \"ngIf\", \"ngIfElse\"], [\"acciones\", \"\"], [\"type\", \"text\", 3, \"ngModel\", \"ngModelChange\"], [1, \"btn\", \"btn-success\", 3, \"click\"], [1, \"btn\", \"btn-secondary\", 3, \"click\"], [1, \"btn\", \"btn-danger\", 3, \"click\"]],\n  template: function EstudiantesComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"h1\");\n      i0.ɵɵtext(1, \"Lista de Estudiantes\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(2, \"table\", 0)(3, \"thead\")(4, \"tr\")(5, \"th\");\n      i0.ɵɵtext(6, \"ID\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(7, \"th\");\n      i0.ɵɵtext(8, \"Nombre\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(9, \"th\");\n      i0.ɵɵtext(10, \"Acciones\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(11, \"tbody\");\n      i0.ɵɵtemplate(12, EstudiantesComponent_ng_container_12_Template, 10, 5, \"ng-container\", 1);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(13, \"div\", 2)(14, \"label\", 3);\n      i0.ɵɵtext(15, \"Nombre:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(16, \"input\", 4);\n      i0.ɵɵlistener(\"ngModelChange\", function EstudiantesComponent_Template_input_ngModelChange_16_listener($event) {\n        return ctx.nuevoEstudiante.nombre = $event;\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(17, \"button\", 5);\n      i0.ɵɵlistener(\"click\", function EstudiantesComponent_Template_button_click_17_listener() {\n        return ctx.agregarEstudiante();\n      });\n      i0.ɵɵtext(18, \"Agregar\");\n      i0.ɵɵelementEnd();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(12);\n      i0.ɵɵproperty(\"ngForOf\", ctx.estudiantes);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngModel\", ctx.nuevoEstudiante.nombre);\n    }\n  },\n  dependencies: [i2.NgForOf, i2.NgIf, i3.DefaultValueAccessor, i3.NgControlStatus, i3.RequiredValidator, i3.NgModel],\n  encapsulation: 2\n});","map":{"version":3,"mappings":"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","names":["i0","EstudiantesComponent","constructor","http","baseUrl","estudianteId","nombre","cargarEstudiantes","get","subscribe","data","estudiantes","error","console","agregarEstudiante","post","nuevoEstudiante","editarEstudiante","estudiante","estudianteEnEdicion","guardarCambios","put","cancelarEdicion","eliminarEstudiante","delete","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["D:\\interrapidisimo\\registro_estudiantes\\ClientApp\\src\\app\\estudiantes\\estudiantes.component.html","D:\\interrapidisimo\\registro_estudiantes\\ClientApp\\src\\app\\estudiantes\\estudiantes.component.ts"],"sourcesContent":["<h1>Lista de Estudiantes</h1>\r\n<table class=\"table\">\r\n  <thead>\r\n    <tr>\r\n      <th>ID</th>\r\n      <th>Nombre</th>\r\n      <th>Acciones</th>\r\n    </tr>\r\n  </thead>\r\n  <tbody>\r\n    <ng-container *ngFor=\"let estudiante of estudiantes\">\r\n      <tr>\r\n        <td>{{ estudiante.estudianteId }}</td>\r\n        <td *ngIf=\"estudianteEnEdicion !== estudiante\">{{ estudiante.nombre }}</td>\r\n        <td *ngIf=\"estudianteEnEdicion === estudiante\">\r\n          <input type=\"text\" [(ngModel)]=\"estudianteEnEdicion.nombre\">\r\n        </td>\r\n        <td>\r\n          <ng-container *ngIf=\"estudianteEnEdicion === estudiante; else acciones\">\r\n            <button (click)=\"guardarCambios()\" class=\"btn btn-success\">Guardar</button>\r\n            <button (click)=\"cancelarEdicion()\" class=\"btn btn-secondary\">Cancelar</button>\r\n          </ng-container>\r\n          <ng-template #acciones>\r\n            <button (click)=\"editarEstudiante(estudiante)\" class=\"btn btn-primary\">Editar</button>\r\n            <button (click)=\"eliminarEstudiante(estudiante)\" class=\"btn btn-danger\">Eliminar</button>\r\n          </ng-template>\r\n        </td>\r\n      </tr>\r\n    </ng-container>\r\n  </tbody>\r\n</table>\r\n<div class=\"form-group\">\r\n  <label for=\"nombre\">Nombre:</label>\r\n  <input type=\"text\" class=\"form-control\" id=\"nombre\" [(ngModel)]=\"nuevoEstudiante.nombre\" name=\"nombre\" required>\r\n</div>\r\n<button (click)=\"agregarEstudiante()\" class=\"btn btn-primary\">Agregar</button>\r\n","import { Component, Inject } from '@angular/core';\r\nimport { HttpClient } from '@angular/common/http';\r\n\r\n@Component({\r\n  selector: 'app-estudiantes',\r\n  templateUrl: './estudiantes.component.html'\r\n})\r\nexport class EstudiantesComponent {\r\n  estudiantes: Estudiante[] = [];\r\n  nuevoEstudiante: Estudiante = { estudianteId: 0, nombre: '' };\r\n  estudianteEnEdicion: Estudiante | null = null;\r\n\r\n  constructor(private http: HttpClient, @Inject('BASE_URL') baseUrl: string) {\r\n    this.cargarEstudiantes();\r\n  }\r\n\r\n  cargarEstudiantes() {\r\n    this.http.get<Estudiante[]>('/api/Estudiantes').subscribe(data => {\r\n      this.estudiantes = data;\r\n    }, error => console.error(error));\r\n  }\r\n\r\n  agregarEstudiante() {\r\n    this.http.post('/api/Estudiantes', this.nuevoEstudiante).subscribe(() => {\r\n      this.nuevoEstudiante = { estudianteId: 0, nombre: '' };\r\n      this.cargarEstudiantes();\r\n    }, error => console.error(error));\r\n  }\r\n\r\n  editarEstudiante(estudiante: Estudiante) {\r\n    this.estudianteEnEdicion = { ...estudiante };\r\n  }\r\n\r\n  guardarCambios() {\r\n    if (this.estudianteEnEdicion) {\r\n      this.http.put(`/api/Estudiantes/${this.estudianteEnEdicion.estudianteId}`, this.estudianteEnEdicion).subscribe(() => {\r\n        this.estudianteEnEdicion = null;\r\n        this.cargarEstudiantes();\r\n      }, error => console.error(error));\r\n    }\r\n  }\r\n\r\n  cancelarEdicion() {\r\n    this.estudianteEnEdicion = null;\r\n  }\r\n\r\n  eliminarEstudiante(estudiante: Estudiante) {\r\n    this.http.delete(`/api/Estudiantes/${estudiante.estudianteId}`).subscribe(() => {\r\n      this.cargarEstudiantes();\r\n    }, error => console.error(error));\r\n  }\r\n}\r\n\r\ninterface Estudiante {\r\n  estudianteId: number;\r\n  nombre: string;\r\n}\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}